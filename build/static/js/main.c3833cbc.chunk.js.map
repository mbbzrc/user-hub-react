{"version":3,"sources":["components/Header.jsx","auth/index.js","components/UserPosts.jsx","components/UserTodos.jsx","api/index.js","index.jsx"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","a","axios","get","data","userId","App","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","error","console","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c3833cbc.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {NavLink} from 'react-router-dom';\n\nimport {\n    storeCurrentUser,\n    clearCurrentUser\n} from '../auth';\n\nimport './Header.css';\n\nconst Header = ({\n    currentUser,\n    setCurrentUser,\n    userList\n}) => {\n    const [selectedUser, setSelectedUser] = useState();\n\n    useEffect(() => {\n        setSelectedUser(userList[0]);\n    }, [userList]);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n    }\n\n    const handleSelectChange = (event) => {\n        const id = event.target.value;\n        const user = userList.find(user => user.id == id);\n        setSelectedUser(user);\n    }\n\n    const handleUserLogin = (event) => {\n        storeCurrentUser(selectedUser);\n        setCurrentUser(selectedUser);\n    }\n\n    const handleUserLogout = (event) => {\n        setSelectedUser(userList[0]);\n        clearCurrentUser();\n        setCurrentUser(null);\n    }\n\n    return (\n        <header>\n            <h1>Welcome to UserHub</h1>\n            <form className =\"user-select\" onSubmit={handleSubmit}>\n            {\n                currentUser\n                ? <>\n                    <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n                    <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink>\n                    <button onClick={handleUserLogout}>LOG OUT, {currentUser.username}</button>\n                </>\n                : <>\n                    <select onChange={handleSelectChange}>\n                        {\n                            userList.map(user => (\n                                <option key={user.id} value={user.id}>\n                                    {user.username}\n                                </option>\n                            ))\n                        }\n                    </select>\n                    <button onClick={handleUserLogin}>LOG IN</button>\n                </>\n            }\n            </form>\n        </header>\n    );\n}\n\nexport default Header;","export function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n}\n\nexport function getCurrentUser() {\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n}\n\nexport function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n}","import React from 'react';\n\nimport './UserPosts.css';\n\nconst UserPosts = ({\n    currentUser,\n    userPosts\n}) => {\n    return (\n        <div className=\"user-posts\">\n            <h2>Posts By {currentUser.username}</h2>\n            {userPosts.map(({id, title, body}) => (\n                <div key={id} className=\"post\">\n                    <h3>{title}</h3>\n                    <p>{body}</p>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserPosts;","import React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({\n    currentUser,\n    userTodos\n}) => {\n    return (\n        <div className=\"user-todos\">\n            <h2>Todos By {currentUser.username}</h2>\n            {userTodos.map(({id, title, completed}) => (\n                <div key={id} className = \"todo\">\n                    <h3 style={{\n                        textDecoration: completed ? 'line-through' : 'none'\n                    }}>{title}</h3>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserTodos;","import axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com';\n\nexport async function getUsers() {\n    try {\n        const {data} = await axios.get(`${BASE}/users`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getPostsByUser(userId) {\n    try {\n        const {data} = await axios.get(`${BASE}/users/${userId}/posts`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getTodosByUser(userId) {\n    try {\n        const {data} = await axios.get(`${BASE}/users/${userId}/todos`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}","import React, {useState, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n    BrowserRouter as Router,\n    Route,\n    Switch,\n    Redirect\n} from 'react-router-dom';\n\nimport {\n    Header,\n    UserPosts,\n    UserTodos\n} from './components';\n\nimport {\n    getUsers,\n    getPostsByUser,\n    getTodosByUser\n} from './api';\n\nimport {\n    getCurrentUser\n} from './auth';\n\nconst App = () => {\n    const [userList, setUserList] = useState([]);\n    const [currentUser, setCurrentUser] = useState(getCurrentUser());\n    const [userPosts, setUserPosts] = useState([]);\n    const [userTodos, setUserTodos] = useState([]);\n\n    useEffect(() => {\n        getUsers()\n            .then(users => {\n                setUserList(users)\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }, []);\n\n    useEffect(() => {\n        if (!currentUser) {\n            setUserPosts([]);\n            setUserTodos([]);\n            return;\n        }\n\n        getPostsByUser(currentUser.id)\n            .then(posts => {\n                setUserPosts(posts);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n\n        getTodosByUser(currentUser.id)\n            .then(todos => {\n                setUserTodos(todos);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }, [currentUser]);\n\n    return (\n        <Router>\n            <div id=\"App\">\n                <Header\n                    userList={userList}\n                    currentUser={currentUser}\n                    setCurrentUser={setCurrentUser} />\n                {\n                    currentUser\n                    ? <>\n                        <Switch>\n                            <Route path=\"/posts\">\n                                <UserPosts\n                                    userPosts={userPosts}\n                                    currentUser={currentUser} />\n                            </Route>\n                            <Route path=\"/todos\">\n                                <UserTodos\n                                    userTodos={userTodos}\n                                    currentUser={currentUser} />\n                            </Route>\n                            <Route exact path=\"/\">\n                                <h2 style={{\n                                    padding: \".5em\"\n                                }}>Welcome, {currentUser.username}!</h2>\n                            </Route>\n                            <Redirect to=\"/\" />\n                        </Switch>\n                    </>\n                    : <>\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <h2 style={{\n                                    padding: \".5em\"\n                                }}>Please log in, above.</h2>\n                            </Route>\n                            <Redirect to=\"/\" />\n                        </Switch>\n                    </>\n                }\n            </div>\n        </Router>\n    );\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"],"sourceRoot":""}