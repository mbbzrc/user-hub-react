{"ast":null,"code":"import _slicedToArray from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/user_hub_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import{BrowserRouter as Router,Route,Switch,Redirect}from'react-router-dom';import{Header,UserPosts,UserTodos}from'./components';import{getUsers,getPostsByUser,getTodosByUser}from'./api';import{getCurrentUser}from'./auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var _useState3=useState(getCurrentUser()),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),userPosts=_useState6[0],setUserPosts=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),userTodos=_useState8[0],setUserTodos=_useState8[1];useEffect(function(){getUsers().then(function(users){setUserList(users);}).catch(function(error){console.error(error);});},[]);useEffect(function(){if(!currentUser){setUserPosts([]);setUserTodos([]);return;}getPostsByUser(currentUser.id).then(function(posts){setUserPosts(posts);}).catch(function(error){console.error(error);});getTodosByUser(currentUser.id).then(function(todos){setUserTodos(todos);}).catch(function(error){console.error(error);});},[currentUser]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"App\",children:[/*#__PURE__*/_jsx(Header,{userList:userList,currentUser:currentUser,setCurrentUser:setCurrentUser}),currentUser?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/posts\",children:/*#__PURE__*/_jsx(UserPosts,{userPosts:userPosts,currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/todos\",children:/*#__PURE__*/_jsx(UserTodos,{userTodos:userTodos,currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsxs(\"h2\",{style:{padding:\".5em\"},children:[\"Welcome, \",currentUser.username,\"!\"]})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(\"h2\",{style:{padding:\".5em\"},children:\"Please log in, above.\"})}),/*#__PURE__*/_jsx(Redirect,{to:\"/\"})]})})]})});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('root'));","map":{"version":3,"sources":["/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/user_hub_react/src/index.jsx"],"names":["React","useState","useEffect","ReactDOM","BrowserRouter","Router","Route","Switch","Redirect","Header","UserPosts","UserTodos","getUsers","getPostsByUser","getTodosByUser","getCurrentUser","App","userList","setUserList","currentUser","setCurrentUser","userPosts","setUserPosts","userTodos","setUserTodos","then","users","catch","error","console","id","posts","todos","padding","username","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n    BrowserRouter as Router,\n    Route,\n    Switch,\n    Redirect\n} from 'react-router-dom';\n\nimport {\n    Header,\n    UserPosts,\n    UserTodos\n} from './components';\n\nimport {\n    getUsers,\n    getPostsByUser,\n    getTodosByUser\n} from './api';\n\nimport {\n    getCurrentUser\n} from './auth';\n\nconst App = () => {\n    const [userList, setUserList] = useState([]);\n    const [currentUser, setCurrentUser] = useState(getCurrentUser());\n    const [userPosts, setUserPosts] = useState([]);\n    const [userTodos, setUserTodos] = useState([]);\n\n    useEffect(() => {\n        getUsers()\n            .then(users => {\n                setUserList(users)\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }, []);\n\n    useEffect(() => {\n        if (!currentUser) {\n            setUserPosts([]);\n            setUserTodos([]);\n            return;\n        }\n\n        getPostsByUser(currentUser.id)\n            .then(posts => {\n                setUserPosts(posts);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n\n        getTodosByUser(currentUser.id)\n            .then(todos => {\n                setUserTodos(todos);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }, [currentUser]);\n\n    return (\n        <Router>\n            <div id=\"App\">\n                <Header\n                    userList={userList}\n                    currentUser={currentUser}\n                    setCurrentUser={setCurrentUser} />\n                {\n                    currentUser\n                    ? <>\n                        <Switch>\n                            <Route path=\"/posts\">\n                                <UserPosts\n                                    userPosts={userPosts}\n                                    currentUser={currentUser} />\n                            </Route>\n                            <Route path=\"/todos\">\n                                <UserTodos\n                                    userTodos={userTodos}\n                                    currentUser={currentUser} />\n                            </Route>\n                            <Route exact path=\"/\">\n                                <h2 style={{\n                                    padding: \".5em\"\n                                }}>Welcome, {currentUser.username}!</h2>\n                            </Route>\n                            <Redirect to=\"/\" />\n                        </Switch>\n                    </>\n                    : <>\n                        <Switch>\n                            <Route exact path=\"/\">\n                                <h2 style={{\n                                    padding: \".5em\"\n                                }}>Please log in, above.</h2>\n                            </Route>\n                            <Redirect to=\"/\" />\n                        </Switch>\n                    </>\n                }\n            </div>\n        </Router>\n    );\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}