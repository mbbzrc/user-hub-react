{"ast":null,"code":"import _slicedToArray from\"/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/user_hub_react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{NavLink}from'react-router-dom';import{storeCurrentUser,clearCurrentUser}from'../auth';import'./Header.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=function Header(_ref){var currentUser=_ref.currentUser,setCurrentUser=_ref.setCurrentUser,userList=_ref.userList;var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedUser=_useState2[0],setSelectedUser=_useState2[1];useEffect(function(){setSelectedUser(userList[0]);},[userList]);var handleSubmit=function handleSubmit(event){event.preventDefault();};var handleSelectChange=function handleSelectChange(event){var id=event.target.value;var user=userList.find(function(user){return user.id==id;});setSelectedUser(user);};var handleUserLogin=function handleUserLogin(event){storeCurrentUser(selectedUser);setCurrentUser(selectedUser);};var handleUserLogout=function handleUserLogout(event){setSelectedUser(userList[0]);clearCurrentUser();setCurrentUser(null);};return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to UserHub\"}),/*#__PURE__*/_jsx(\"form\",{className:\"user-select\",onSubmit:handleSubmit,children:currentUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/posts\",activeClassName:\"current\",children:\"POSTS\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/todos\",activeClassName:\"current\",children:\"TODOS\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleUserLogout,children:[\"LOG OUT, \",currentUser.username]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"select\",{onChange:handleSelectChange,children:userList.map(function(user){return/*#__PURE__*/_jsx(\"option\",{value:user.id,children:user.username},user.id);})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUserLogin,children:\"LOG IN\"})]})})]});};export default Header;","map":{"version":3,"sources":["/Users/anthonybeesley/Documents/Anthony/Coding Bootcamp/course_work/user_hub_react/src/components/Header.jsx"],"names":["React","useState","useEffect","NavLink","storeCurrentUser","clearCurrentUser","Header","currentUser","setCurrentUser","userList","selectedUser","setSelectedUser","handleSubmit","event","preventDefault","handleSelectChange","id","target","value","user","find","handleUserLogin","handleUserLogout","username","map"],"mappings":"yMAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,OAAR,KAAsB,kBAAtB,CAEA,OACIC,gBADJ,CAEIC,gBAFJ,KAGO,SAHP,CAKA,MAAO,cAAP,C,6IAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAIT,IAHFC,CAAAA,WAGE,MAHFA,WAGE,CAFFC,cAEE,MAFFA,cAEE,CADFC,QACE,MADFA,QACE,CACF,cAAwCR,QAAQ,EAAhD,wCAAOS,YAAP,eAAqBC,eAArB,eAEAT,SAAS,CAAC,UAAM,CACZS,eAAe,CAACF,QAAQ,CAAC,CAAD,CAAT,CAAf,CACH,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAIA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GACH,CAFD,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACF,KAAD,CAAW,CAClC,GAAMG,CAAAA,EAAE,CAAGH,KAAK,CAACI,MAAN,CAAaC,KAAxB,CACA,GAAMC,CAAAA,IAAI,CAAGV,QAAQ,CAACW,IAAT,CAAc,SAAAD,IAAI,QAAIA,CAAAA,IAAI,CAACH,EAAL,EAAWA,EAAf,EAAlB,CAAb,CACAL,eAAe,CAACQ,IAAD,CAAf,CACH,CAJD,CAMA,GAAME,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACR,KAAD,CAAW,CAC/BT,gBAAgB,CAACM,YAAD,CAAhB,CACAF,cAAc,CAACE,YAAD,CAAd,CACH,CAHD,CAKA,GAAMY,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACT,KAAD,CAAW,CAChCF,eAAe,CAACF,QAAQ,CAAC,CAAD,CAAT,CAAf,CACAJ,gBAAgB,GAChBG,cAAc,CAAC,IAAD,CAAd,CACH,CAJD,CAMA,mBACI,uCACI,0CADJ,cAEI,aAAM,SAAS,CAAE,aAAjB,CAA+B,QAAQ,CAAEI,YAAzC,UAEIL,WAAW,cACT,wCACE,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,CAAqB,eAAe,CAAC,SAArC,mBADF,cAEE,KAAC,OAAD,EAAS,EAAE,CAAC,QAAZ,CAAqB,eAAe,CAAC,SAArC,mBAFF,cAGE,gBAAQ,OAAO,CAAEe,gBAAjB,uBAA6Cf,WAAW,CAACgB,QAAzD,GAHF,GADS,cAMT,wCACE,eAAQ,QAAQ,CAAER,kBAAlB,UAEQN,QAAQ,CAACe,GAAT,CAAa,SAAAL,IAAI,qBACb,eAAsB,KAAK,CAAEA,IAAI,CAACH,EAAlC,UACKG,IAAI,CAACI,QADV,EAAaJ,IAAI,CAACH,EAAlB,CADa,EAAjB,CAFR,EADF,cAUE,eAAQ,OAAO,CAAEK,eAAjB,oBAVF,GARN,EAFJ,GADJ,CA2BH,CA3DD,CA6DA,cAAef,CAAAA,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {NavLink} from 'react-router-dom';\n\nimport {\n    storeCurrentUser,\n    clearCurrentUser\n} from '../auth';\n\nimport './Header.css';\n\nconst Header = ({\n    currentUser,\n    setCurrentUser,\n    userList\n}) => {\n    const [selectedUser, setSelectedUser] = useState();\n\n    useEffect(() => {\n        setSelectedUser(userList[0]);\n    }, [userList]);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n    }\n\n    const handleSelectChange = (event) => {\n        const id = event.target.value;\n        const user = userList.find(user => user.id == id);\n        setSelectedUser(user);\n    }\n\n    const handleUserLogin = (event) => {\n        storeCurrentUser(selectedUser);\n        setCurrentUser(selectedUser);\n    }\n\n    const handleUserLogout = (event) => {\n        setSelectedUser(userList[0]);\n        clearCurrentUser();\n        setCurrentUser(null);\n    }\n\n    return (\n        <header>\n            <h1>Welcome to UserHub</h1>\n            <form className =\"user-select\" onSubmit={handleSubmit}>\n            {\n                currentUser\n                ? <>\n                    <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n                    <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink>\n                    <button onClick={handleUserLogout}>LOG OUT, {currentUser.username}</button>\n                </>\n                : <>\n                    <select onChange={handleSelectChange}>\n                        {\n                            userList.map(user => (\n                                <option key={user.id} value={user.id}>\n                                    {user.username}\n                                </option>\n                            ))\n                        }\n                    </select>\n                    <button onClick={handleUserLogin}>LOG IN</button>\n                </>\n            }\n            </form>\n        </header>\n    );\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}